let g=localStorage.getItem("player-score"),y=localStorage.getItem("computer-score");const a=[...document.querySelectorAll('[class*="score__"] span:last-child')],u=document.querySelector(".choose-attribute"),p=document.querySelector("ul"),S=[...p.querySelectorAll('span[class*="attribute-"]')],o=document.querySelector(".game-results"),r=o.querySelector(".player__choice"),c=o.querySelector(".computer__choice"),m=o.querySelector(".game-results__conclusion p"),h=document.getElementById("play-again"),I=document.getElementById("reset-game"),v=document.querySelector("h1"),k=s=>Math.floor(Math.random()*s.length),L=s=>`<span class="attribute-${s}" data-type="${s}">
      <img src="./icon-${s}.svg" alt="">
    </span>`,C=()=>{u.classList.add("visible"),u.classList.remove("hidden"),o.classList.add("hidden"),o.classList.remove("visible"),r.classList.contains("winner")?r.classList.remove("winner"):r.classList.remove("loser"),c.classList.contains("winner")?c.classList.remove("winner"):c.classList.remove("loser"),m.parentElement.style.opacity="0",p.classList.add("animate"),v.focus()},n=()=>{let s=parseInt(localStorage.getItem("player-score")),l;r.classList.add("winner"),c.classList.add("loser"),m.textContent="You win",l=s+1,localStorage.setItem("player-score",`${l}`),setTimeout(()=>{a[0].innerHTML=localStorage.getItem("player-score")},1500)},i=()=>{let s=parseInt(localStorage.getItem("computer-score")),l;r.classList.add("loser"),c.classList.add("winner"),m.textContent="You lose",l=s+1,localStorage.setItem("computer-score",`${l}`),setTimeout(()=>{a[1].innerHTML=localStorage.getItem("computer-score")},1500)};g===null&&(g=localStorage.setItem("player-score",0));y===null&&(y=localStorage.setItem("computer-score",0));a[0].innerHTML=localStorage.getItem("player-score");a[1].innerHTML=localStorage.getItem("computer-score");p.addEventListener("click",s=>{if(!s.target.closest("button"))return;const e=s.target.querySelector("span:last-child").getAttribute("data-type"),t=S[k(S)].getAttribute("data-type"),d=document.querySelector(".game-results__player p span"),f=document.querySelector(".game-results__computer p span");p.classList.remove("animate"),o.focus(),u.classList.remove("visible"),u.classList.add("hidden"),o.classList.remove("hidden"),o.classList.add("visible"),e==="scissors"&&(t==="paper"||t==="lizard")||e==="paper"&&(t==="rock"||t==="spock")||e==="rock"&&(t==="lizard"||t==="scissors")||e==="lizard"&&(t==="spock"||t==="paper")||e==="spock"&&(t==="scissors"||t==="rock")?n():t==="scissors"&&(e==="paper"||e==="lizard")||t==="paper"&&(e==="rock"||e==="spock")||t==="rock"&&(e==="lizard"||e==="scissors")||t==="lizard"&&(e==="spock"||e==="paper")||t==="spock"&&(e==="scissors"||e==="rock")?i():e===t&&(m.textContent="Nobody won"),r.innerHTML=L(e),c.innerHTML=L(t),console.log(d,e),d.textContent=e,f.textContent=t,setTimeout(()=>{r.firstElementChild.style.opacity="1",r.firstElementChild.style.transform="scale(1)"},500),setTimeout(()=>{c.firstElementChild.style.opacity="1",c.firstElementChild.style.transform="scale(1)"},1e3),setTimeout(()=>{m.parentElement.style.opacity="1"},1500)});h.addEventListener("click",C);I.addEventListener("click",()=>{localStorage.setItem("player-score",0),localStorage.setItem("computer-score",0),a[0].innerHTML=localStorage.getItem("player-score"),a[1].innerHTML=localStorage.getItem("computer-score"),closeModal()});
